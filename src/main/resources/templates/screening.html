<html lang="en">
<head>
    <title>Cinema</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" th:href="@{image/cinema-logo.svg}"/>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/carousel/">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script th:src="@{js/addTicket.js}" type="text/javascript"></script>

    <!-- Bootstrap core CSS -->
    <link th:href="@{css/bootstrap.min.css}" rel="stylesheet">

    <link th:href="@{css/cinema.css}" rel="stylesheet">

</head>
<body>
<div th:replace="/parts/header"></div>
<div class="margin-header w-100 h-auto d-flex">

    <div class="seats-check">
        <div class="screening-movie-info">
            <image class="screening-movie-img" th:src="${screening.getMovie().getMovieImgUrl()}"></image>
            <div class="d-block ms-5">
                <h2 th:text="${screening.getMovie().getMovieName()}"></h2>
                <p style="width: 500px; text-align: justify"
                   th:text="${screening.getMovie().getMovieDescription()}"></p>
                <div class="d-flex place">
                    <p><b>Place:</b></p>
                    <p class="ms-1" th:text="${screening.getAuditorium().getAuditoriumName()}"></p>
                </div>
                <div class="d-flex date">
                    <p><b>Date:</b></p>
                    <p class="ms-1" th:text="${screening.getScreeningDate()}"></p>
                </div>
                <div class="d-flex time">
                    <p><b>Time:</b></p>
                    <p class="ms-1"
                       th:text="${screening.getScreeningStartTime() + '-' + screening.getScreeningEndTime()}"></p>
                </div>
            </div>
        </div>
        <div class="screen">
            <svg style="width:400px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 806 21" fill="#061420">
                <path d="M3.2,20l-2,0.2l-0.3-4l2-0.2C136.2,5.3,269.6,0,403,0s266.8,5.3,400.2,16l2,0.2l-0.3,4l-2-0.2 C669.5,9.3,536.3,4,403,4S136.4,9.3,3.2,20z"></path>
            </svg>
            <p>Screen</p>
        </div>

        <div class="seats">
            <div class="hall-row" th:each="item : ${seats}">
                <div th:attr="class=${seat.value? 'free-seat' : 'taken-seat'}" th:each="seat : ${item.value}"
                     th:row="${seat.key.seatRow}" th:number="${seat.key.seatNumber}" th:seatId="${seat.key.id}">
                </div>
            </div>
        </div>
    </div>
    <div>
        <div class="seats-buy">
            <div style="padding-top: 20px; margin-left: 15px">
                <h2>Tickets</h2>
            </div>
            <ul id="bucket" class="ticket-bucket">
            </ul>

            <form th:action="@{user/buy-ticket}" th:object="${seatReserved}" method="post">
                <input th:name="screeningId" th:value="${screening.id}" hidden>
                <select id="seatId" name="seatId" hidden multiple>
                </select>
                <button class="btn-buy-ticket btn-danger" type="submit" th:text="#{button.buyTicket}"></button>
            </form>
        </div>
    </div>
</div>
</body>